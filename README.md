> **创建日期:** 2021/10/19
> 
> **更新日期:** 2021/10/19
>
> **作者:** 道五七

- 应用层: HTTP, DNS, SSH, FTP
- 传输层: TCP, UDP
- 网络层: IP, ICMP, ARP
- 链路层: MAC
- 物理层: PHY
- 接口: RJ-45

- 通信
  - 分界: 分界符
  - 差错 
    - 奇偶校验码
    - 海明码
    - CRC冗余校验码
  - 速度
    - I/O模型
      - 阻塞I/O
      - 非阻塞I/O
      - 多路复用I/O
      - 信号驱动I/O
      - 异步I/O
    - 负载均衡
    - 缓存
  - 数据量: 流式传输
  - 可靠
    - 三次握手(连接)
    - 传输控制
      - 重传机制
      - 窗口滑动机制
    - 四次挥手(关闭连接)
  - 安全性
    - 机密性: 对称加密
    - 完整性: 签名(散列加密)
    - 端点鉴别: 非对称加密

- 报文
  - 报头/起始帧分界符(SFD)
  - MAC头
  - IP头
  - TCP头
  - 数据
  - FCS帧校验序列

- TCP
  - 发送端口号: 16bit
  - 接收端口号: 16bit
  - 序号: 32bit
  - ACK号: 32bit
  - 数据偏移量: 4bit
  - 保留: 6
  - 控制位: 6bit
    - URG
    - ACK
    - PSH
    - RST
    - SYN
    - FIN
  - 窗口: 16bit
  - 校验和: 16bit
  - 紧急指针: 16bit
  - 可选字段: 可变

- UDP
  - 发送端口号: 16bit
  - 接收端口号: 16bit
  - 数据长度: 16bit
  - 校验和: 16bit

- IP
  - 版本号: 4bit
  - 头部长度: 4bit
  - 服务类型
  - 总长度: 16bit
  - ID号: 16bit
  - 标志: 3bit
  - 分片偏移量: 13bit
  - 生存时间: 8bit
  - 协议号: 8bit
  - 头部校验和: 16bit
  - 发送IP地址: 32bit
  - 接收IP地址：32bit
  - 可选字段: 可变

- MAC
  - 接收MAC地址: 48bit
  - 发送MAC地址: 48bit
  - 以太类型: 16bit
    - 0000-05DC: IEEE802.3
    - 0800: IP协议
    - 0806: ARP协议
    - 8600: IPV6

- 网卡
  - ROM: MAC号, MTU大小
  - 缓冲区
  - MAC层
  - PHY层

- IP地址
  - 组成
    - 子网号
    - 主机号: 全1表示广播地址, 全0表示整个网络
    - 子网掩码: 不全1表示子网, 全1表示一台机器
  - 私有地址
    - 10.0.0.0 ~ 10.255.255.255
    - 172.16.0.0 ~ 172.31.255.255
    - 192.168.0.0 ~ 192.168.255.255

- 网络类型
  - 组成
    - 局域网
    - 接入网
    - 广域网
      - POP
      - NOC
      - IX
      - ISP
  - 协议
    - 以太网: IEEE802.3, IEEE802.11
    - ADSL, FTTH: PPPoE
    - 电话线, ISDN: PPP
    - CATV
    - 专线
    - 无线局域网

- 路由表
  - 组成
    - 目标地址: 全0表示最低优先级匹配, 最长
    - 子网掩码: 最长掩码匹配规则, 路由聚合
    - 网关: IP地址表示下一跳服务器, 空表示找到目标地址
    - 接口: 传输端口
    - 跃点数: 越小匹配优先级越高
  - 规则
    - 传输报文时IP中TTL字段减1
    - 若包的长度大于下一跳MTU, 则进行IP分片, 指定了不能分片或已经分过片则不可再分, 直接发送ICMP报文
    - 匹配不上则向源发送ICMP报文
  - 维护
    - 人工
    - 路由协议
      - RIP
      - OSPF
      - BGP

- 地址转换NAT

- 应用
- socket库
- DNS解析器
- 协议栈
- 防火墙: 进行一个包的过滤
- 网卡驱动
- 网卡

- 正向代理
  - VPN
  - 缓存服务器
- 反向代理
  - CDN
  - 负载均衡